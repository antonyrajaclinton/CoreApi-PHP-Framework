# Disable directory listing
Options -Indexes

# Enable mod_rewrite
RewriteEngine On

# Redirect all non-file/directory requests to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L]

# Block access to .env and other sensitive files
<FilesMatch "^\.env">
    Require all denied
</FilesMatch>

<FilesMatch "^(\.git|composer\.json|composer\.lock|env\.example|\.ht)">
    Require all denied
</FilesMatch>

# Set environment variable (optional)
SetEnv APP_ENVIRONMENT development
